# Login Troubleshooting Guide

## ุฎุทูุงุช ุงูุชุดุฎูุต

### 1. ุงูุชุญูู ูู ุงูุณุฌูุงุช (Debug Logs)

ุนูุฏ ูุญุงููุฉ ุชุณุฌูู ุงูุฏุฎููุ ุงูุญุต Console/S Logs ููุจุญุซ ุนู:

#### โ ุฅุฐุง ุฑุฃูุช ูุฐู ุงูุฑุณุงุฆูุ ููู ุดูุก ูุนูู:
```
๐ต Sign in button pressed
๐ต Login started
๐ต API POST Request:
URL: http://localhost:5000/user/login
๐ต API Response:
Status Code: 200
๐ข Login success
```

#### ๐ด ุฅุฐุง ุฑุฃูุช ุฑุณุงุฆู ุฎุทุฃ:

**ุฎุทุฃ ุงูุงุชุตุงู:**
```
๐ด API Error: SocketException
```
**ุงูุญู:** 
- ุชุฃูุฏ ุฃู ุงูู server ูุนูู ุนูู `localhost:5000`
- ููู Android Emulatorุ ุงุณุชุฎุฏู `http://10.0.2.2:5000`

**ุฎุทุฃ 404:**
```
๐ด Not Found (404)
URL might be wrong or endpoint does not exist
```
**ุงูุญู:** 
- ุชุญูู ูู ุฃู endpoint ุตุญูุญ: `/user/login`
- ุชุญูู ูู ุฃู ุงูู server ูุณุชูุน ุนูู ุงููููุฐ 5000

**ุฎุทุฃ 400:**
```
๐ด Bad Request (400)
```
**ุงูุญู:** 
- ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ (username, password)
- ุชุญูู ูู ุฃู ุงูู request body ูุญุชูู ุนูู ุงูุญููู ุงููุทููุจุฉ

**ุฎุทุฃ ุงูุชุญููู:**
```
๐ด Login parsing error
```
**ุงูุญู:** 
- ุชุญูู ูู ุฃู ุงูู response structure ูุทุงุจู ูุง ูู ูุชููุน
- ุชุญูู ูู ุงูุณุฌูุงุช ููุนุฑูุฉ structure ุงููุนูู ููู response

### 2. ุงูุชุญูู ูู ุงูู API Server

#### ุงุฎุชุจุงุฑ ุงูู API ูุจุงุดุฑุฉ:

ุงุณุชุฎุฏู Postman ุฃู curl:

```bash
curl -X POST http://localhost:5000/user/login \
  -H "Content-Type: application/json" \
  -d '{"username":"developer1","password":"Dev@12345"}'
```

#### ุงูุชุญูู ูู ุฃู ุงูู server ูุนูู:
```bash
# Windows
netstat -ano | findstr :5000

# Linux/Mac
lsof -i :5000
```

### 3. ุงูุชุญูู ูู ุงูููุตุฉ

#### Android Emulator:
- ุงูู URL ูุฌุจ ุฃู ูููู: `http://10.0.2.2:5000`
- ุชุฃูุฏ ูู ูุฌูุฏ INTERNET permission ูู AndroidManifest.xml

#### iOS Simulator / Web / Desktop:
- ุงูู URL ูุฌุจ ุฃู ูููู: `http://localhost:5000`
- ุชุฃูุฏ ุฃู ุงูู server ูุนูู ุนูู localhost

### 4. ุงูุชุญูู ูู ุงูุจูุงูุงุช

#### ุงูุจูุงูุงุช ุงููุทููุจุฉ:
```json
{
  "username": "developer1",
  "password": "Dev@12345"
}
```

#### ุงูุชุญูู:
- ุชุฃูุฏ ูู ุฃู username ู password ุบูุฑ ูุงุฑุบูู
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ุฒุงุฆุฏุฉ
- ุชุญูู ูู ุฃู ุงูุจูุงูุงุช ุตุญูุญุฉ

### 5. ุงูุชุญูู ูู ุงูู Response Structure

ุงูู API ูุฌุจ ุฃู ูุฑุฌุน:
```json
{
  "success": true,
  "message": "User login successfully",
  "data": {
    "user": {
      "_id": "...",
      "username": "...",
      "email": "...",
      "role": {...}
    },
    "token": "...",
    "refreshToken": "..."
  }
}
```

### 6. ูุดุงูู ุดุงุฆุนุฉ

#### ุงููุดููุฉ: ูุง ูุญุฏุซ ุดูุก ุนูุฏ ุงูุถุบุท ุนูู Sign In
**ุงูุญู:**
- ุชุญูู ูู Console logs
- ุชุฃูุฏ ูู ุฃู `controller.login()` ูุชู ุงุณุชุฏุนุงุคู
- ุชุญูู ูู ุฃู ุงูู button ุบูุฑ ูุนุทู

#### ุงููุดููุฉ: "No internet connection"
**ุงูุญู:**
- ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ููู Android Emulatorุ ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู `10.0.2.2`

#### ุงููุดููุฉ: "Invalid username or password"
**ุงูุญู:**
- ุชุญูู ูู ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
- ุชุญูู ูู Console logs ููุนุฑูุฉ ุงูู response ุงููุนูู ูู ุงูู API

#### ุงููุดููุฉ: "Request timeout"
**ุงูุญู:**
- ุชุฃูุฏ ุฃู ุงูู server ูุนูู
- ุชุฃูุฏ ูู ุงูู URL ุงูุตุญูุญ
- ุฒุฏ ุงูู timeout ุฅุฐุง ูุฒู ุงูุฃูุฑ

### 7. ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

1. **ุงูุชุญ Console/Logs**
2. **ุงุถุบุท ุนูู Sign In**
3. **ุฑุงูุจ ุงูุฑุณุงุฆู:**
   - ูู ูุธูุฑ "Sign in button pressed"ุ
   - ูู ูุธูุฑ "API POST Request"ุ
   - ูุง ูู ุงูู URL ุงูุฐู ูุชู ุงุณุชุฎุฏุงููุ
   - ูุง ูู ุงูู Status Codeุ
   - ูุง ูู ูุญุชูู ุงูู Responseุ

### 8. ูุนูููุงุช ูููุฏุฉ ููู Debug

- **URL ุงููุณุชุฎุฏู:** ุณูุธูุฑ ูู logs
- **Request Body:** ุณูุธูุฑ ูู logs
- **Response Status:** ุณูุธูุฑ ูู logs
- **Response Body:** ุณูุธูุฑ ูู logs
- **ุฃู ุฃุฎุทุงุก:** ุณุชุธูุฑ ูู logs

### 9. ุงูุชุญูู ูู ุงูููุฏ

#### ุชุฃูุฏ ูู:
- โ `api_constant.dart` - Base URL ุตุญูุญ
- โ `login_controller.dart` - ูุณุชุฎุฏู usernameController
- โ `auth_repository.dart` - ูุฑุณู username ู password ุจุดูู ุตุญูุญ
- โ `api_service.dart` - ูุนุงูุฌ ุงูู response ุจุดูู ุตุญูุญ
- โ `login.dart` - ุงูุฒุฑ ูุชุตู ุจู `controller.login()`

### 10. ุญููู ุณุฑูุนุฉ

**ูุฅุนุงุฏุฉ ุงููุญุงููุฉ:**
1. ุฃููู ุงูู app
2. ุดุบู ุงูู app ูู ุฌุฏูุฏ
3. ุฌุฑูุจ ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู

**ููุชุญูู ูู ุงูู API:**
1. ุงูุชุญ Postman
2. ุงุฎุชุจุฑ ุงูู endpoint ูุจุงุดุฑุฉ
3. ุชุฃูุฏ ูู ุฃู ุงูู response ุตุญูุญ

**ููุชุฃูุฏ ูู ุงูููุตุฉ:**
- Android: ุงุณุชุฎุฏู `10.0.2.2`
- iOS/Web/Desktop: ุงุณุชุฎุฏู `localhost`

---

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ุฑุงุฌุน Console logs ูุดุงุฑู ุงูุฑุณุงุฆู ุงูุชู ุชุธูุฑ.

